webpackJsonp([5],{10:function(e,t){e.exports=require("crypto")},101:function(e,t){e.exports=require("buffer")},102:function(e,t){e.exports=require("dgram")},103:function(e,t){e.exports=require("dns")},104:function(e,t){e.exports=require("events")},105:function(e,t){e.exports=require("string_decoder")},106:function(e,t){e.exports=require("zlib")},13:function(e,t){e.exports=require("util")},14:function(e,t){e.exports=require("path")},177:function(e,t){e.exports=require("constants")},18:function(e,t){e.exports=require("electron")},180:function(e,t,n){"use strict";var o=n(266);const i=e=>({type:o.a,filters:e});t.f=i;const r=e=>({type:o.b,filters:e});t.g=r;const s=e=>({type:o.c,filters:e});t.e=s;const c=(e=5e4)=>({type:o.d,increment:e});t.d=c;const a=()=>({type:o.e});t.a=a;const l=()=>({type:o.f});t.b=l;const u=()=>({type:o.g});t.c=u},23:function(e,t){e.exports=require("url")},26:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(79),i=(n.n(o),n(18)),r=(n.n(i),n(1)),s=n.n(r),c=n(49),a=n(14),l=n.n(a);const u=i.remote.dialog,f=i.remote.getCurrentWindow(),d=i.remote.getGlobal("config"),g=d.siad,p=i.remote.require("fs");let h=!1;const m=(e=0)=>new Promise(t=>setTimeout(t,e));window.onload=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function o(i,r){try{var s=t[i](r),c=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(c).then(function(e){o("next",e)},function(e){o("throw",e)});e(c)}return o("next")})}}(function*(){const e=n(47);let t=function(){};const i=function(){let n="Siad exited unexpectedly for an unknown reason.";try{n=p.readFileSync(l.a.join(g.datadir,"siad-output.log"),{encoding:"utf-8"})}catch(e){console.error("error reading error log: "+e.toString())}document.body.innerHTML='<div style="width:100%;height:100%;" id="crashdiv"></div>',e.render(s.a.createElement(c.a,{errorMsg:n,startSiad:t}),document.getElementById("crashdiv"))};for(t=function(){const e=o.launch(g.path,{"sia-directory":g.datadir,"rpc-addr":g.rpcaddr,"host-addr":g.hostaddr,"api-addr":g.address,modules:"cghrtw"});e.on("error",i),e.on("close",i),e.on("exit",i),window.siadProcess=e};;){const e=yield o.isRunning(g.address);e&&h&&(h=!1,window.location.reload()),e||h||(h=!0,i()),yield m(2e3)}}),window.SiaAPI={call:function(e,t){o.call(g.address,e).then(e=>t(null,e)).catch(e=>t(e,null))},config:d,hastingsToSiacoins:o.hastingsToSiacoins,siacoinsToHastings:o.siacoinsToHastings,openFile:e=>u.showOpenDialog(f,e),saveFile:e=>u.showSaveDialog(f,e),showMessage:e=>u.showMessageBox(f,e),showError:e=>u.showErrorBox(e.title,e.content)}},266:function(e,t,n){"use strict";t.a="ADD_LOG_FILTERS";t.b="REMOVE_LOG_FILTERS";t.c="SET_LOG_FILTERS";t.d="INCREMENT_LOG_SIZE";t.e="RELOAD_LOG";t.f="SET_SCROLLING";t.g="SET_NOT_SCROLLING"},35:function(e,t){e.exports=require("http")},36:function(e,t){e.exports=require("stream")},378:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(47),i=n.n(o),r=n(504);i.a.render(n.i(r.a)(),document.getElementById("react-root"))},43:function(e,t){e.exports=require("assert")},48:function(e,t){e.exports=require("querystring")},49:function(e,t,n){"use strict";var o=n(2),i=n.n(o),r=n(1),s=n.n(r),c=n(18);n.n(c);const a={display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",backgroundColor:"#C6C6C6",width:"100%",height:"100%"},l={height:"300px",width:"80%",overflow:"auto",marginBottom:"15px"},u={color:"blue",cursor:"pointer"},f=()=>{c.shell.openExternal("https://github.com/NebulousLabs/Sia/issues")},d=({errorMsg:errorMsg,startSiad:startSiad})=>s.a.createElement("div",{style:a},s.a.createElement("h2",null,"Siad has exited unexpectedly. Please submit a bug report including the error log ",s.a.createElement("a",{style:u,onClick:f},"here.")),s.a.createElement("h2",null," Error Log: "),s.a.createElement("textarea",{style:l,readOnly:!0},errorMsg),s.a.createElement("button",{onClick:startSiad},"Start Siad"));d.propTypes={errorMsg:i.a.string.isRequired,startSiad:i.a.func.isRequired},t.a=d},496:function(e,t,n){"use strict";var o=n(1),i=n.n(o),r=n(500),s=n(501);const c=()=>i.a.createElement("div",null,i.a.createElement(r.a,null),i.a.createElement(s.a,null));t.a=c},497:function(e,t,n){"use strict";var o=n(2),i=n.n(o),r=n(1),s=n.n(r);const c=({name:name,filters:filters,checked:checked,addLogFilters:addLogFilters,removeLogFilters:removeLogFilters,setLogFilters:setLogFilters})=>{const e={width:"100px",height:"50px",margin:"0",padding:"0",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",borderBottom:checked?"4px solid #00CBA0":"1px solid #00CBA0"};const t=e=>{if(!e.shiftKey&&!e.ctrlKey)return void setLogFilters(filters);if(checked)return void removeLogFilters(filters);addLogFilters(filters)};return s.a.createElement("div",{style:e,onClick:t},s.a.createElement("span",{style:{WebkitUserSelect:"none"}}," ",name," "))};c.propTypes={name:i.a.string.isRequired,filters:i.a.array.isRequired,checked:i.a.bool.isRequired,addLogFilters:i.a.func.isRequired,removeLogFilters:i.a.func.isRequired,setLogFilters:i.a.func.isRequired},t.a=c},498:function(e,t,n){"use strict";var o=n(2),i=n.n(o),r=n(1),s=n.n(r),c=n(7),a=(n.n(c),n(497)),l=n(502);const u={width:"100%",position:"absolute",top:"0",margin:"0",padding:"0",backgroundColor:"#ECECEC",display:"flex",alignItems:"center",justifyContent:"center"},f=({logFilters:logFilters,actions:actions})=>s.a.createElement("div",{style:u},l.a.map((e,t)=>s.a.createElement(a.a,{name:e.name,filters:e.filters,checked:e.filters.reduce((e,t)=>e||logFilters.includes(t),!1),addLogFilters:actions.addLogFilters,removeLogFilters:actions.removeLogFilters,setLogFilters:actions.setLogFilters,key:t})));f.propTypes={logFilters:i.a.instanceOf(c.Set).isRequired},t.a=f},499:function(e,t,n){"use strict";var o=n(2),i=n.n(o),r=n(1),s=n.n(r);const c={position:"absolute",top:"55px",bottom:"0",left:"2px",right:"0",margin:"0",padding:"0",overflowY:"scroll",whiteSpace:"pre",fontSize:"12px",fontFamily:"monospace"};class a extends s.a.Component{componentDidMount(){this._logView.scrollTop=this._logView.scrollHeight,this._logView.addEventListener("scroll",this.handleScroll.bind(this))}componentDidUpdate(){this.props.scrolling||(this._logView.scrollTop=this._logView.scrollHeight)}handleScroll(){0===this._logView.scrollTop&&(this.props.actions.incrementLogSize(),this._logView.scrollTop=1),this._logView.scrollTop===this._logView.scrollHeight-this._logView.clientHeight?this.props.actions.setNotScrolling():this.props.actions.setScrolling()}render(){return s.a.createElement("div",{style:c,ref:e=>this._logView=e},this.props.logText)}}t.a=a,a.propTypes={logText:i.a.string.isRequired,scrolling:i.a.bool.isRequired}},500:function(e,t,n){"use strict";var o=n(498),i=n(3),r=(n.n(i),n(4)),s=n(180);const c=e=>({logFilters:e.get("logFilters")}),a=e=>({actions:n.i(r.bindActionCreators)({setLogFilters:s.e,addLogFilters:s.f,removeLogFilters:s.g},e)}),l=n.i(i.connect)(c,a)(o.a);t.a=l},501:function(e,t,n){"use strict";var o=n(499),i=n(3),r=(n.n(i),n(4)),s=n(180);const c=e=>({logText:e.get("logText"),scrolling:e.get("scrolling")}),a=e=>({actions:n.i(r.bindActionCreators)({setScrolling:s.b,setNotScrolling:s.c,incrementLogSize:s.d},e)}),l=n.i(i.connect)(c,a)(o.a);t.a=l},502:function(e,t,n){"use strict";const o=[{name:"Siad",filters:["siad-output.log"]},{name:"Consensus",filters:["consensus.log"]},{name:"Gateway",filters:["gateway.log"]},{name:"Host",filters:["host.log","storagemanager.log"]},{name:"Renter",filters:["renter/contractor.log","renter/hostdb.log","renter.log"]},{name:"Miner",filters:["miner.log"]},{name:"Wallet",filters:["wallet.log"]}];t.a=o},503:function(e,t,n){"use strict";var o=n(98),i=n.n(o),r=n(506);const s=SiaAPI.config.siad.datadir,c=e=>i.a.statSync(e).size,a=e=>e.slice(e.indexOf("\n")+1,e.lastIndexOf("\n")+1),l=(e,t)=>{const n=(()=>{const n=t||c(e);return Math.min(n,c(e))})();const o=Math.max(0,c(e)-n);const r=new Buffer(n);const s=i.a.openSync(e,"r");try{i.a.readSync(s,r,0,n,o)}catch(t){console.error(`error reading ${e}: ${t.toString()}`)}return a(r.toString())},u=(e,t)=>n.i(r.a)(t).filter(t=>e.reduce((e,n)=>e||t.includes(n),!1)),f=(e,t,n=[".log"])=>{const o=u(n,e);const i=o.map(e=>l(e,t));if(o.size>1)return i.join("").split("\n").sort().join("\n");return i.join("")};t.a=f;const d=(e,t,n)=>e.set("logFilters",n).set("logSize",t).set("logText",f(s,t,n));t.b=d;const g=(e,t)=>d(e,e.get("logSize"),e.get("logFilters").union(t));t.c=g;const p=(e,t)=>{const n=e.get("logFilters").subtract(t);if(0===n.size)return e;return d(e,e.get("logSize"),n)};t.d=p},504:function(e,t,n){"use strict";var o=n(1),i=n.n(o),r=n(4),s=n(3),c=(n.n(s),n(505)),a=n(496),l=n(180);const u=()=>{const e=n.i(r.createStore)(c.a);setInterval(()=>{e.dispatch(l.a())},1e4);return i.a.createElement(s.Provider,{store:e},i.a.createElement(a.a,null))};t.a=u},505:function(e,t,n){"use strict";function o(e=l,t){switch(t.type){case r.d:return n.i(s.b)(e,e.get("logSize")+t.increment,e.get("logFilters"));case r.e:return n.i(s.b)(e,e.get("logSize"),e.get("logFilters"));case r.a:return n.i(s.c)(e,t.filters);case r.b:return n.i(s.d)(e,t.filters);case r.c:return n.i(s.b)(e,e.get("logSize"),n.i(i.Set)(t.filters)).set("logSize",a);case r.f:return e.set("scrolling",!0);case r.g:return e.set("scrolling",!1);default:return e}}t.a=o;var i=n(7),r=(n.n(i),n(266)),s=n(503);const c=SiaAPI.config.siad.datadir,a=5e4,l=n.i(i.Map)({logFilters:n.i(i.Set)(["consensus.log","gateway.log"]),logText:n.i(s.a)(c,5e4,["consensus.log","gateway.log"]),logSize:a,scrolling:!1})},506:function(e,t,n){"use strict";var o=n(98),i=n.n(o),r=n(7),s=(n.n(r),n(14)),c=n.n(s);const a=(e,t=n.i(r.List)())=>{const o=i.a.readdirSync(e);let s=t;o.forEach(t=>{const n=c.a.join(e,t);const o=i.a.statSync(n);o.isDirectory()?s=a(n,s):o.isFile()&&(s=s.push(n))});return s};t.a=a},55:function(e,t){e.exports=require("fs")},61:function(e,t){e.exports=require("https")},71:function(e,t){e.exports=require("net")},72:function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=72},81:function(e,t){e.exports=require("child_process")},82:function(e,t){e.exports=require("punycode")},83:function(e,t){e.exports=require("tls")},84:function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=84},989:function(e,t,n){n(37),n(26),e.exports=n(378)}},[989]);