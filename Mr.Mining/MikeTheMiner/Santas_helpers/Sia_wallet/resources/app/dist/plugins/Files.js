webpackJsonp([1],{10:function(e,t){e.exports=require("crypto")},101:function(e,t){e.exports=require("buffer")},102:function(e,t){e.exports=require("dgram")},103:function(e,t){e.exports=require("dns")},104:function(e,t){e.exports=require("events")},105:function(e,t){e.exports=require("string_decoder")},106:function(e,t){e.exports=require("zlib")},13:function(e,t){e.exports=require("util")},14:function(e,t){e.exports=require("path")},177:function(e,t){e.exports=require("constants")},18:function(e,t){e.exports=require("electron")},23:function(e,t){e.exports=require("url")},26:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(79),i=(n.n(a),n(18)),o=(n.n(i),n(1)),s=n.n(o),c=n(49),r=n(14),l=n.n(r);const u=i.remote.dialog,d=i.remote.getCurrentWindow(),f=i.remote.getGlobal("config"),p=f.siad,m=i.remote.require("fs");let g=!1;const h=(e=0)=>new Promise(t=>setTimeout(t,e));window.onload=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var s=t[i](o),c=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(c).then(function(e){a("next",e)},function(e){a("throw",e)});e(c)}return a("next")})}}(function*(){const e=n(47);let t=function(){};const i=function(){let n="Siad exited unexpectedly for an unknown reason.";try{n=m.readFileSync(l.a.join(p.datadir,"siad-output.log"),{encoding:"utf-8"})}catch(e){console.error("error reading error log: "+e.toString())}document.body.innerHTML='<div style="width:100%;height:100%;" id="crashdiv"></div>',e.render(s.a.createElement(c.a,{errorMsg:n,startSiad:t}),document.getElementById("crashdiv"))};for(t=function(){const e=a.launch(p.path,{"sia-directory":p.datadir,"rpc-addr":p.rpcaddr,"host-addr":p.hostaddr,"api-addr":p.address,modules:"cghrtw"});e.on("error",i),e.on("close",i),e.on("exit",i),window.siadProcess=e};;){const e=yield a.isRunning(p.address);e&&g&&(g=!1,window.location.reload()),e||g||(g=!0,i()),yield h(2e3)}}),window.SiaAPI={call:function(e,t){a.call(p.address,e).then(e=>t(null,e)).catch(e=>t(e,null))},config:f,hastingsToSiacoins:a.hastingsToSiacoins,siacoinsToHastings:a.siacoinsToHastings,openFile:e=>u.showOpenDialog(d,e),saveFile:e=>u.showSaveDialog(d,e),showMessage:e=>u.showMessageBox(d,e),showError:e=>u.showErrorBox(e.title,e.content)}},262:function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(1),s=n.n(o),c=n(7),r=(n.n(c),n(443));const l=()=>()=>{},u=({transfers:transfers,onTransferClick:onTransferClick=l})=>{const e=transfers.map((e,t)=>s.a.createElement(r.a,{key:t,status:e.status,name:e.name,progress:e.progress,onClick:onTransferClick(e)}));return s.a.createElement("ul",{className:"transfer-list"},e)};u.propTypes={transfers:i.a.instanceOf(c.List).isRequired,onTransferClick:i.a.func},t.a=u},263:function(e,t,n){"use strict";var a=n(7),i=(n.n(a),n(14)),o=n.n(i),s=n(98),c=n.n(s),r=n(27);t.c=12960;const l=e=>{SiaAPI.showError({title:"Sia-UI Files Error",content:void 0!==e.message?e.message:e.toString()})};t.d=l;const u=e=>new Promise((t,n)=>{SiaAPI.call(e,(e,a)=>{e?n(e):t(a)})});t.a=u;const d=e=>{const t=["B","KB","MB","GB","TB","PB"];let n="B";let a=e;for(const e in t){if(a<1e3){n=t[e];break}a/=1e3}return a.toFixed().toString()+" "+n};t.b=d;const f=e=>{if(0===e.size)return 0;const t=e.filter(e=>e.redundancy>=0);if(0===t.size)return-1;return t.min((e,t)=>{if(e.redundancy>t.redundancy)return 1;return-1}).redundancy},p=e=>{if(0===e.size)return 0;return e.map(e=>e.uploadprogress).min()},m=(e,t)=>{if("directory"===e.type&&"file"===t.type)return-1;if("file"===e.type&&"directory"===t.type)return 1;return 0},g=(e,t)=>{const i=e.filter(e=>e.siapath.includes(t));let s=n.i(a.Map)();i.forEach(n=>{let a="file";const i=o.a.posix.relative(t,n.siapath);let c=o.a.posix.basename(i);let r=Math.floor(n.uploadprogress);let l=n.siapath;let u=d(n.filesize);let m=n.redundancy;if(-1!==i.indexOf("/")){if(a="directory",".."===(c=i.split("/")[0]))return;l=o.a.posix.join(t,c)+"/";const n=e.filter(e=>e.siapath.includes(l)),s=n.reduce((e,t)=>e+t.filesize,0);u=d(s),m=f(n),r=p(n)}if(s.has(c)&&s.get(c).type===a)return;s=s.set(c,{size:u,name:c,siapath:l,available:n.available,redundancy:m,uploadprogress:r,type:a})});return s.toList().sortBy(e=>e.name).sort(m)};t.g=g;const h=(e,t)=>{const i=c.a.readdirSync(e);let s;s=void 0===t?n.i(a.List)():t;i.forEach(t=>{const n=o.a.join(e,t);const a=c.a.statSync(n);a.isDirectory()?s=h(n,s):a.isFile()&&(s=s.push(n))});return s};t.e=h;const E=(e,t,n)=>t.map(t=>{const a=o.a.dirname(t.substring(e.length+1));const i=o.a.posix.join(n,o.a.basename(e),a);return r.B(i,t)});t.f=E;const y=e=>n.i(a.List)(e).map(e=>({status:(()=>{if(1===Math.floor(e.received/e.filesize))return"Completed";return"Downloading"})(),siapath:e.siapath,name:o.a.basename(e.siapath),progress:Math.floor(e.received/e.filesize*100),destination:e.destination,type:"download",starttime:e.starttime})).sortBy(e=>-e.starttime);t.h=y;const w=(e=>d(e.reduce((e,t)=>e+t.filesize,0)),e=>n.i(a.List)(e).filter(e=>e.redundancy>=0).filter(e=>e.uploadprogress<100).map(e=>({status:(()=>{if(e.redundancy<1)return"Uploading";return"Boosting Redundancy"})(),siapath:e.siapath,name:o.a.basename(e.siapath),progress:Math.floor(e.uploadprogress),type:"upload"})).sortBy(e=>e.name).sortBy(e=>-e.progress));t.i=w;const C=(e,t,i)=>{let o=n.i(a.List)(e).filter(e=>-1!==e.siapath.indexOf(i));o=o.filter(e=>-1!==e.siapath.toLowerCase().indexOf(t.toLowerCase()));return o};t.j=C;const v=(e,t,n)=>{const a=t.map(e=>e.siapath);const i=n.map(e=>e.siapath);const o=a.indexOf(e.siapath);const s=a.indexOf(i.first());if(s>o)return t.slice(o,s+1).toOrderedSet().reverse();return t.slice(s,o+1).toOrderedSet()};t.k=v},27:function(e,t,n){"use strict";var a=n(86);const i=()=>({type:a.a});t.c=i;const o=e=>({type:a.b,unlocked:e});t.L=o;const s=()=>({type:a.c});t.e=s;const c=e=>({type:a.d,synced:e});t.M=c;const r=()=>({type:a.e});t.d=r;const l=e=>({type:a.f,files:e});t.N=l;const u=()=>({type:a.g});t.g=u;const d=e=>({type:a.h,allowance:e});t.P=d;const f=e=>({type:a.i,spending:e});t.Q=f;const p=e=>({type:a.j,funds:e});t.F=p;const m=e=>({type:a.k,estimate:e});t.O=m;const g=e=>({type:a.l,estimate:e});t.G=g;const h=()=>({type:a.m});t.R=h;const E=e=>({type:a.n,funds:e});t.I=E;const y=(()=>({type:a.o}),e=>({type:a.p,balance:e}));t.S=y;const w=()=>({type:a.q});t.x=w;const C=()=>({type:a.r});t.K=C;const v=e=>({type:a.s,path:e});t.o=v;const D=(e,t)=>({type:a.t,text:e,path:t});t.u=D;const b=()=>({type:a.u});t.w=b;const S=()=>({type:a.v});t.h=S;const A=()=>({type:a.w});t.j=A;const k=e=>({type:a.x,source:e});t.k=k;const T=()=>({type:a.y});t.A=T;const N=(e,t)=>({type:a.z,file:e,downloadpath:t});t.s=N;const R=(e,t)=>({type:a.A,siapath:e,source:t});t.B=R;const L=e=>({type:a.B,file:e});t.z=L;const x=(e,t)=>({type:a.C,siapath:e,source:t});t.C=x;const F=()=>({type:a.D});t.a=F;const O=()=>({type:a.E});t.b=O;const q=e=>({type:a.F,uploads:e});t.U=q;const _=e=>({type:a.G,downloads:e});t.T=_;const I=(()=>({type:a.H}),()=>({type:a.I}));t.m=I;const U=()=>({type:a.J});t.v=U;const P=e=>({type:a.K,files:e});t.t=P;const G=()=>({type:a.L});t.y=G;const z=()=>({type:a.M});t.f=z;const B=e=>({type:a.N,count:e});t.V=B;const M=(e,t)=>({type:a.O,file:e,newsiapath:t});t.E=M;const W=e=>({type:a.P,file:e});t.r=W;const j=()=>({type:a.Q});t.D=j;const H=e=>({type:a.R,file:e});t.q=H;const K=e=>({type:a.S,file:e});t.n=K;const V=()=>({type:a.T});t.i=V;const Y=e=>({type:a.U,file:e});t.p=Y;const J=()=>({type:a.V});t.l=J;const Q=e=>({type:a.W,allowance:e});t.H=Q;const X=()=>({type:a.X});t.J=X},35:function(e,t){e.exports=require("http")},36:function(e,t){e.exports=require("stream")},376:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n.n(a),o=n(47),s=n.n(o),c=n(121),r=n.n(c),l=n(4),u=n(3),d=(n.n(u),n(469)),f=n(473),p=n(451),m=n(27);const g=r()(),h=n.i(l.createStore)(d.a,n.i(l.applyMiddleware)(g));g.run(f.a);const E=i.a.createElement(u.Provider,{store:h},i.a.createElement(p.a,null));s.a.render(E,document.getElementById("react-root"));const y=()=>{h.dispatch(n.i(m.a)());h.dispatch(n.i(m.b)());h.dispatch(n.i(m.c)());h.dispatch(n.i(m.d)());h.dispatch(n.i(m.e)());h.dispatch(n.i(m.f)());h.dispatch(n.i(m.g)())};y(),setInterval(y,3e3),window.onfocus=y},424:function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(1),s=n.n(o);const c=({allowance:allowance,onConfirmClick:onConfirmClick,onCancelClick:onCancelClick})=>{const e={padding:"40px 40px 40px 40px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",backgroundColor:"#ececec",width:"50%",height:"400px"};const t={marginLeft:"5px",marginRight:"5px"};const n={marginBottom:"20px",fontSize:"24px"};return s.a.createElement("div",{style:e},s.a.createElement("h3",{style:n},"Please confirm that you would like to set aside ",allowance," SC for storage on the Sia network."),s.a.createElement("div",null,s.a.createElement("button",{style:t,onClick:onConfirmClick},"Confirm"),s.a.createElement("button",{style:t,onClick:onCancelClick},"Cancel")))};c.propTypes={allowance:i.a.string.isRequired,onConfirmClick:i.a.func.isRequired,onCancelClick:i.a.func.isRequired},t.a=c},425:function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(1),s=n.n(o),c=n(445),r=n(424);const l=({confirming:confirming,confirmationAllowance:confirmationAllowance,unlocked:unlocked,synced:synced,feeEstimate:feeEstimate,storageEstimate:storageEstimate,actions:actions})=>{const e=()=>actions.closeAllowanceDialog();const t=()=>actions.hideAllowanceConfirmation();const n=()=>actions.setAllowance(confirmationAllowance);const a=e=>{e.preventDefault();actions.showAllowanceConfirmation(e.target.allowance.value)};const i=e=>{actions.getStorageEstimate(e.target.value);actions.setFeeEstimate(Math.floor(1e3+.12*parseInt(e.target.value))||0)};const o=confirming?s.a.createElement(r.a,{allowance:confirmationAllowance,onConfirmClick:n,onCancelClick:t}):s.a.createElement("div",{className:"allowance-dialog"},s.a.createElement("h3",null," Buy storage on the Sia Decentralized Network"),s.a.createElement("div",{className:"allowance-message"},s.a.createElement("p",null,"You need to allocate funds to upload and download on Sia. Your allowance remains locked for 3 months. Unspent funds are then refunded*. You can increase your allowance at any time."),s.a.createElement("p",null,"Your storage allowance automatically refills every 6 weeks. Your computer must be online with your wallet unlocked to complete the refill. If Sia fails to refill the allowance by the end of the lock-in period, your data may be lost."),s.a.createElement("p",{className:"footnote"},"*contract fees are non-refundable. They will be subtracted from the allowance that you set.")),s.a.createElement("form",{onSubmit:a},s.a.createElement("div",{className:"allowance-input"},s.a.createElement("label",null,"Allowance: ",s.a.createElement("input",{type:"number",name:"allowance",defaultValue:"5000",onFocus:i,onChange:i,required:!0,autoFocus:!0,className:"allowance-amount"})),s.a.createElement("span",null," SC")),s.a.createElement("div",{className:"allowance-buttons"},s.a.createElement("button",{type:"submit",className:"allowance-button-accept"},"Accept"),s.a.createElement("button",{type:"button",onClick:e,className:"allowance-button-cancel"},"Cancel")),s.a.createElement("table",{className:"estimates"},s.a.createElement("tr",null,s.a.createElement("td",{className:"estimate-label"},"Estimated Fees"),s.a.createElement("td",{className:"estimate-content"},feeEstimate," SC")),s.a.createElement("tr",null,s.a.createElement("td",{className:"estimate-label"},"Estimated Storage"),s.a.createElement("td",{className:"estimate-content"},storageEstimate)))));return s.a.createElement("div",{className:"modal"},unlocked&&synced?o:s.a.createElement(c.a,{onClick:e}))};l.propTypes={confirmationAllowance:i.a.string.isRequired,confirming:i.a.bool.isRequired,unlocked:i.a.bool.isRequired,synced:i.a.bool.isRequired,feeEstimate:i.a.number.isRequired,storageEstimate:i.a.string.isRequired},t.a=l},426:function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(1),s=n.n(o),c=n(454),r=n(450);const l=({showAllowanceDialog:showAllowanceDialog})=>s.a.createElement("div",{className:"app"},showAllowanceDialog?s.a.createElement(r.a,null):null,s.a.createElement(c.a,null));l.propTypes={showAllowanceDialog:i.a.bool.isRequired},t.a=l},427:function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(1),s=n.n(o);const c=({settingAllowance:settingAllowance,contractCount:contractCount})=>s.a.createElement("div",{className:"contractor-status"},settingAllowance?s.a.createElement("div",null,s.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin fa-2x fa-fw"}),s.a.createElement("span",null,"Forming Contracts...")):s.a.createElement("span",null," ",contractCount," contracts "));c.propTypes={settingAllowance:i.a.bool.isRequired,contractCount:i.a.number.isRequired},t.a=c},428:function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(1),s=n.n(o),c=n(7);n.n(c);const r=({files:files,actions:actions})=>{const e=()=>{files.map(actions.deleteFile);actions.hideDeleteDialog()};const t=()=>actions.hideDeleteDialog();return s.a.createElement("div",{className:"modal"},s.a.createElement("div",{className:"delete-dialog"},s.a.createElement("h3",null," Confirm Deletion "),s.a.createElement("div",{className:"delete-text"},"Are you sure you want to delete ",files.size," ",1===files.size?" file":" files"),s.a.createElement("div",{className:"delete-buttons"},s.a.createElement("button",{onClick:e},"Yes"),s.a.createElement("button",{onClick:t},"No"))))};r.propTypes={files:i.a.instanceOf(c.List).isRequired},t.a=r},429:function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(1),s=n.n(o);const c=({path:path,nfiles:nfiles,onBackClick:onBackClick})=>{const e={color:(()=>{if(""===path)return"#C5C5C5";return"#00CBA0"})()};return s.a.createElement("li",{className:"directory-infobar"},s.a.createElement("div",{style:{cursor:"pointer"},className:"back-button",onClick:onBackClick},s.a.createElement("i",{className:"fa fa-backward",style:e}),s.a.createElement("span",null,"Back")),s.a.createElement("div",{className:"directory-info"},s.a.createElement("span",{style:{marginRight:"10px"}}," ",path," "),s.a.createElement("span",{style:{marginRight:"10px"}}," ",nfiles," ",1===nfiles?"file":"files")))};c.propTypes={path:i.a.string.isRequired,nfiles:i.a.number.isRequired,onBackClick:i.a.func.isRequired},t.a=c},43:function(e,t){e.exports=require("assert")},430:function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(1),s=n.n(o),c=n(262),r=n(7);n.n(r);const l=({downloads:downloads,onDownloadClick:onDownloadClick,onClearClick:onClearClick})=>s.a.createElement("div",{className:"downloads"},s.a.createElement("h3",null," Downloads "),s.a.createElement(c.a,{transfers:downloads,onTransferClick:onDownloadClick}),s.a.createElement("button",{onClick:onClearClick,className:"clear-downloads"},"Clear Downloads"));l.propTypes={downloads:i.a.instanceOf(r.List).isRequired,onDownloadClick:i.a.func,onClearClick:i.a.func},t.a=l},431:function(e,t,n){"use strict";var a=n(1),i=n.n(a);const o=()=>i.a.createElement("div",{className:"drag-overlay"},i.a.createElement("span",null,i.a.createElement("i",{className:"fa fa-cloud-upload fa-3x"}),i.a.createElement("h3",null,"Drag to Upload")));t.a=o},432:function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(1),s=n.n(o),c=n(438);const r=({filename:filename,type:type,selected:selected,filesize:filesize,available:available,redundancy:redundancy,uploadprogress:uploadprogress,onDoubleClick:onDoubleClick,onClick:onClick})=>s.a.createElement("li",{onClick:onClick,onDoubleClick:onDoubleClick,className:selected?"filebrowser-file selected":"filebrowser-file"},s.a.createElement("div",{className:"filename"},"file"===type?s.a.createElement("i",{className:"fa fa-file"}):s.a.createElement("i",{className:"fa fa-folder",onClick:onDoubleClick}),s.a.createElement("div",{className:"name"},filename)),s.a.createElement("div",{className:"file-info"},s.a.createElement("span",{className:"filesize"},filesize),s.a.createElement(c.a,{available:available,redundancy:redundancy,uploadprogress:uploadprogress})));r.propTypes={filename:i.a.string.isRequired,type:i.a.string.isRequired,filesize:i.a.string.isRequired,available:i.a.bool.isRequired,redundancy:i.a.number,uploadprogress:i.a.number,selected:i.a.bool.isRequired,onDoubleClick:i.a.func.isRequired,onClick:i.a.func.isRequired},t.a=r},433:function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(1),s=n.n(o),c=n(456),r=n(461),l=n(459),u=n(464),d=n(463),f=n(453),p=n(458),m=n(462),g=n(457),h=n(465),E=n(452),y=n(431);const w=({dragging:dragging,settingAllowance:settingAllowance,showRenameDialog:showRenameDialog,showUploadDialog:showUploadDialog,showDeleteDialog:showDeleteDialog,showFileTransfers:showFileTransfers,actions:actions})=>{const e=e=>{e.preventDefault();actions.setDragging()};const t=e=>{e.preventDefault();actions.setNotDragging();actions.showUploadDialog(Array.from(e.dataTransfer.files,e=>e.path))};const n=e=>{e.preventDefault();actions.setNotDragging()};const a=e=>{27===e.keyCode&&actions.deselectAll()};return s.a.createElement("div",{className:"file-browser-container"},s.a.createElement("div",{className:"file-browser",onKeyDown:a,tabIndex:"1",onDragOver:e,onMouseLeave:n,onDrop:t},showRenameDialog?s.a.createElement(p.a,null):null,showUploadDialog?s.a.createElement(u.a,null):null,showDeleteDialog?s.a.createElement(f.a,null):null,dragging?s.a.createElement(y.a,null):null,s.a.createElement("div",{className:"files-toolbar"},s.a.createElement(h.a,null),s.a.createElement(E.a,null),s.a.createElement("div",{className:"buttons"},settingAllowance?null:s.a.createElement(r.a,null),s.a.createElement(l.a,null),s.a.createElement(d.a,null),s.a.createElement(m.a,null))),s.a.createElement(c.a,null)),showFileTransfers?s.a.createElement(g.a,null):null)};w.propTypes={dragging:i.a.bool.isRequired,settingAllowance:i.a.bool.isRequired,showRenameDialog:i.a.bool.isRequired,showUploadDialog:i.a.bool.isRequired,showDeleteDialog:i.a.bool.isRequired,showFileTransfers:i.a.bool.isRequired},t.a=w},434:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(i,o){try{var s=t[i](o),c=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(c).then(function(e){a("next",e)},function(e){a("throw",e)});e(c)}return a("next")})}}var i=n(2),o=n.n(i),s=n(1),c=n.n(s),r=n(7),l=(n.n(r),n(14)),u=n.n(l);const d=({files:files,actions:actions})=>{const e=()=>{const e=SiaAPI.openFile({title:"Where should we download?",properties:["openDirectory","createDirectories"]});if(0===e.length)return;files.forEach((()=>{var t=a(function*(t){actions.downloadFile(t,u.a.join(e[0],u.a.basename(t.siapath))),yield new Promise(function(e){return setTimeout(e,300)})});return function(e){return t.apply(this,arguments)}})())};const t=()=>{actions.showDeleteDialog(files.toList())};const n=()=>{actions.showRenameDialog(files.first())};return c.a.createElement("div",{className:"file-controls"},files.size," ",1===files.size?" item":" items"," selected",c.a.createElement("div",{onClick:e,className:"download-button"},c.a.createElement("i",{className:"fa fa-cloud-download fa-2x"})),1===files.size?c.a.createElement("div",{onClick:n,className:"rename-button"},c.a.createElement("i",{className:"fa fa-pencil fa-2x"})):null,c.a.createElement("div",{onClick:t,className:"delete-button"},c.a.createElement("i",{className:"fa fa-trash fa-2x"})))};d.propTypes={files:o.a.instanceOf(r.Set).isRequired},t.a=d},435:function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(1),s=n.n(o),c=n(7),r=(n.n(c),n(432)),l=n(14),u=n.n(l),d=n(460),f=n(455),p=n(429);const m=({files:files,selected:selected,searchResults:searchResults,path:path,showSearchField:showSearchField,actions:actions})=>{const e=()=>{const e=path.replace(/\/$/,"");if(""===e)return;const t=e.split("/");t.length<2?actions.setPath(""):actions.setPath(t[t.length-2]+"/")};if(null===files)return s.a.createElement("div",{className:"file-list"},s.a.createElement("ul",null,s.a.createElement("h2",null," Loading files... ")));let t;t=showSearchField?searchResults:files;const n=t.map((e,t)=>{const n=selected.map(e=>e.name).includes(e.name);const a=t=>{const a=t.ctrlKey||t.metaKey;const i=t.shiftKey;a||i||actions.deselectAll();i&&actions.selectUpTo(e);a&&n?actions.deselectFile(e):actions.selectFile(e)};const i=t=>{t.stopPropagation();"directory"===e.type&&actions.setPath(u.a.posix.join(path,e.name))};return s.a.createElement(r.a,{key:t,selected:n,filename:e.name,filesize:e.size,redundancy:e.redundancy,uploadprogress:e.uploadprogress,available:e.available,onDoubleClick:i,type:e.type,onClick:a})});return s.a.createElement("div",{className:"file-list"},showSearchField?s.a.createElement(d.a,null):null,s.a.createElement("ul",null,s.a.createElement(p.a,{path:path,nfiles:files.size,onBackClick:e}),n.size>0?n:s.a.createElement("h2",null," No files uploaded ")),selected.size>0?s.a.createElement(f.a,null):null)};m.propTypes={files:i.a.instanceOf(c.List),selected:i.a.instanceOf(c.Set).isRequired,searchResults:i.a.instanceOf(c.List),path:i.a.string.isRequired,showSearchField:i.a.bool.isRequired},t.a=m},436:function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(1),s=n.n(o),c=n(7),r=(n.n(c),n(448)),l=n(430),u=n(18);n.n(u);const d=({uploads:uploads,downloads:downloads,actions:actions})=>{const e=()=>actions.hideFileTransfers();const t=e=>()=>u.shell.showItemInFolder(e.destination);const n=()=>{actions.clearDownloads();actions.getDownloads()};return s.a.createElement("div",{className:"file-transfers"},s.a.createElement("div",{className:"close-button",onClick:e},s.a.createElement("i",{className:"fa fa-times fa-2x"})),0===downloads.size&&0===uploads.size?s.a.createElement("h3",{style:{marginTop:"50px"}}," No file transfers in progress. "):null,downloads.size>0?s.a.createElement(l.a,{downloads:downloads,onClearClick:n,onDownloadClick:t}):null,uploads.size>0?s.a.createElement(r.a,{uploads:uploads}):null)};d.propTypes={uploads:i.a.instanceOf(c.List).isRequired,downloads:i.a.instanceOf(c.List).isRequired},t.a=d},437:function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(1),s=n.n(o);const c=({progress:progress})=>{const e={width:progress.toString()+"%",height:"100%",transition:"width 200ms",backgroundColor:"#00CBA0"};return s.a.createElement("div",{className:"progress-container"},s.a.createElement("div",{className:"progress-bar",style:e}))};c.propTypes={progress:i.a.number.isRequired},t.a=c},438:function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(1),s=n.n(o);const c=({available:available,redundancy:redundancy,uploadprogress:uploadprogress})=>{const e={opacity:(()=>{if(!available||redundancy<1)return 1;if(uploadprogress>100)return 1;return uploadprogress/100})(),color:(()=>{if(!available||redundancy<1)return"#FF8080";return"#00CBA0"})()};return s.a.createElement("div",{className:"redundancy-status"},s.a.createElement("i",{className:"fa fa-cubes",style:e}),s.a.createElement("span",{className:"redundancy-text"},redundancy>0?redundancy+"x":"--"))};c.propTypes={available:i.a.bool.isRequired,redundancy:i.a.number.isRequired,uploadprogress:i.a.number.isRequired},t.a=c},439:function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(1),s=n.n(o),c=n(14),r=n.n(c);const l=({file:file,actions:actions})=>{const e=e=>{e.preventDefault();actions.renameFile(file,r.a.posix.join(r.a.posix.dirname(file.siapath),e.target.newname.value))};const t=()=>actions.hideRenameDialog();return s.a.createElement("div",{className:"modal"},s.a.createElement("div",{className:"rename-dialog"},s.a.createElement("div",{className:"rename-text"},"Enter a new name for ",r.a.basename(file.siapath),":"),s.a.createElement("form",{className:"rename-form",onSubmit:e},s.a.createElement("div",{className:"rename-field"},s.a.createElement("input",{type:"text",name:"newname",required:!0,autoFocus:!0,defaultValue:r.a.posix.basename(file.siapath)})),s.a.createElement("div",{className:"rename-buttons"},s.a.createElement("button",{type:"submit"},"Confirm"),s.a.createElement("button",{type:"button",onClick:t},"Cancel")))))};l.propTypes={file:i.a.object.isRequired},t.a=l},440:function(e,t,n){"use strict";var a=n(1),i=n.n(a);const o=({path:path,actions:actions})=>{const e=()=>{actions.toggleSearchField();actions.setSearchText("",path)};return i.a.createElement("div",{onClick:e,className:"search-button"},i.a.createElement("i",{className:"fa fa-search fa-2x"}),i.a.createElement("span",null," Search Files "))};t.a=o},441:function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(1),s=n.n(o);const c=({searchText:searchText,path:path,actions:actions})=>{const e=e=>actions.setSearchText(e.target.value,path);return s.a.createElement("div",{className:"search-field"},s.a.createElement("input",{value:searchText,autoFocus:!0,onChange:e}),s.a.createElement("i",{className:"fa fa-search"}))};c.propTypes={searchText:i.a.string.isRequired,path:i.a.string.isRequired},t.a=c},442:function(e,t,n){"use strict";var a=n(1),i=n.n(a);const o=({actions:actions})=>{const e=()=>actions.showAllowanceDialog();return i.a.createElement("div",{onClick:e,className:"set-allowance-button"},i.a.createElement("i",{className:"fa fa-credit-card fa-2x"}),i.a.createElement("span",null,"Create Allowance"))};t.a=o},443:function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(1),s=n.n(o),c=n(437);const r=({name:name,progress:progress,status:status,onClick:onClick})=>s.a.createElement("li",{className:"filetransfer",onClick:onClick},s.a.createElement("div",{className:"transfer-info"},s.a.createElement("div",{className:"transfername"},name),s.a.createElement(c.a,{progress:progress}),s.a.createElement("span",{className:"transfer-status"},status)));r.propTypes={name:i.a.string.isRequired,progress:i.a.number.isRequired,status:i.a.string.isRequired,onClick:i.a.func.isRequired},t.a=r},444:function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(1),s=n.n(o);const c=({unread:unread,actions:actions})=>{const e=()=>actions.toggleFileTransfers();return s.a.createElement("div",{className:"transfers-button",onClick:e},s.a.createElement("i",{className:"fa fa-bars fa-2x"}),unread>0?s.a.createElement("span",{className:"badge",key:unread},unread>10?"10+":unread):null,s.a.createElement("span",null,"File Transfers"))};c.propTypes={unread:i.a.number.isRequired},t.a=c},445:function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(1),s=n.n(o);const c=({onClick:onClick})=>s.a.createElement("div",{className:"allowance-dialog unlock-warning"},s.a.createElement("h1",{className:"unlock-warning-head"}," Your wallet must be unlocked and synchronized to buy storage. "),s.a.createElement("div",{className:"allowance-buttons"},s.a.createElement("button",{onClick:onClick,className:"allowance-button-accept"},"OK")));c.propTypes={onClick:i.a.func.isRequired},t.a=c},446:function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(1),s=n.n(o);const c=({contracts:contracts=14,actions:actions})=>{const e=e=>()=>{if(contracts<14)return void SiaAPI.showError({title:"Sia-UI files error",content:"Not enough contracts to upload.  You must buy storage before uploading, or wait for contracts to form."});let t;"folder"===e?t=["openDirectory"]:"file"===e&&(t=["openFile","multiSelections"]);const n=SiaAPI.openFile({title:"Choose a "+e+" to upload",properties:t});n&&actions.showUploadDialog(n)};return s.a.createElement("div",{className:"upload-button-container"},s.a.createElement("div",{onClick:e("file"),className:"upload-button"},s.a.createElement("i",{className:"fa fa-cloud-upload fa-2x"}),s.a.createElement("span",null,"Upload Files")),s.a.createElement("div",{onClick:e("folder"),className:"upload-button"},s.a.createElement("i",{className:"fa fa-folder-open-o fa-2x"}),s.a.createElement("span",null,"Upload Folder")))};c.propTypes={contracts:i.a.number},t.a=c},447:function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(1),s=n.n(o),c=n(98),r=n.n(c);const l=({source:source,path:path,actions:actions})=>{const e=()=>{source.forEach(e=>{r.a.statSync(e).isDirectory()?actions.uploadFolder(path,e):actions.uploadFile(path,e)});actions.hideUploadDialog()};const t=()=>actions.hideUploadDialog();return s.a.createElement("div",{className:"modal"},s.a.createElement("div",{className:"upload-dialog"},s.a.createElement("h1",null," Confirm Upload "),s.a.createElement("div",null,"Would you like to upload ",source.length," ",1===source.length?"item":"items","?"),s.a.createElement("div",{className:"upload-dialog-buttons"},s.a.createElement("button",{onClick:e},"Upload"),s.a.createElement("button",{onClick:t},"Cancel"))))};l.propTypes={source:i.a.array.isRequired,path:i.a.string.isRequired},t.a=l},448:function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(1),s=n.n(o),c=n(262),r=n(7);n.n(r);const l=({uploads:uploads,onUploadClick:onUploadClick})=>s.a.createElement("div",{className:"uploads"},s.a.createElement("h3",null," Uploads "),s.a.createElement(c.a,{transfers:uploads,onTransferClick:onUploadClick}));l.propTypes={uploads:i.a.instanceOf(r.List).isRequired,onUploadClick:i.a.func},t.a=l},449:function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(1),s=n.n(o);const c=({allowance:allowance,spending:spending})=>s.a.createElement("div",{className:"files-usage-info"},s.a.createElement("span",null," ",spending," SC Spent / ",allowance," SC Allocated "));c.propTypes={allowance:i.a.string.isRequired,spending:i.a.string.isRequired},t.a=c},450:function(e,t,n){"use strict";var a=n(425),i=n(3),o=(n.n(i),n(4)),s=n(27);const c=e=>({unlocked:e.wallet.get("unlocked"),synced:e.wallet.get("synced"),storageEstimate:e.allowancedialog.get("storageEstimate"),feeEstimate:e.allowancedialog.get("feeEstimate"),confirmationAllowance:e.allowancedialog.get("confirmationAllowance"),confirming:e.allowancedialog.get("confirming")}),r=e=>({actions:n.i(o.bindActionCreators)({getStorageEstimate:s.F,setFeeEstimate:s.G,showAllowanceConfirmation:s.H,setAllowance:s.I,hideAllowanceConfirmation:s.J,closeAllowanceDialog:s.K},e)}),l=n.i(i.connect)(c,r)(a.a);t.a=l},451:function(e,t,n){"use strict";var a=n(426),i=n(3);n.n(i);const o=e=>({showAllowanceDialog:e.files.get("showAllowanceDialog")}),s=n.i(i.connect)(o)(a.a);t.a=s},452:function(e,t,n){"use strict";var a=n(427),i=n(3);n.n(i);const o=e=>({settingAllowance:e.files.get("settingAllowance"),contractCount:e.files.get("contractCount")}),s=n.i(i.connect)(o)(a.a);t.a=s},453:function(e,t,n){"use strict";var a=n(428),i=n(3),o=(n.n(i),n(4)),s=n(27);const c=e=>({files:e.deletedialog.get("files")}),r=e=>({actions:n.i(o.bindActionCreators)({hideDeleteDialog:s.y,deleteFile:s.z},e)}),l=n.i(i.connect)(c,r)(a.a);t.a=l},454:function(e,t,n){"use strict";var a=n(433),i=n(3),o=(n.n(i),n(4)),s=n(27);const c=e=>({dragging:e.files.get("dragging"),settingAllowance:e.files.get("settingAllowance"),showRenameDialog:e.files.get("showRenameDialog"),showUploadDialog:e.files.get("showUploadDialog"),showFileTransfers:e.files.get("showFileTransfers"),showDeleteDialog:e.files.get("showDeleteDialog")}),r=e=>({actions:n.i(o.bindActionCreators)({setDragging:s.h,deselectAll:s.i,setNotDragging:s.j,showUploadDialog:s.k},e)}),l=n.i(i.connect)(c,r)(a.a);t.a=l},455:function(e,t,n){"use strict";var a=n(434),i=n(3),o=(n.n(i),n(4)),s=n(27);const c=e=>({files:e.files.get("selected")}),r=e=>({actions:n.i(o.bindActionCreators)({downloadFile:s.s,showRenameDialog:s.r,showDeleteDialog:s.t},e)}),l=n.i(i.connect)(c,r)(a.a);t.a=l},456:function(e,t,n){"use strict";var a=n(435),i=n(3),o=(n.n(i),n(4)),s=n(27);const c=e=>({files:e.files.get("workingDirectoryFiles"),selected:e.files.get("selected"),searchResults:e.files.get("searchResults"),path:e.files.get("path"),showSearchField:e.files.get("showSearchField")}),r=e=>({actions:n.i(o.bindActionCreators)({selectUpTo:s.n,setPath:s.o,deselectFile:s.p,deselectAll:s.i,selectFile:s.q,showRenameDialog:s.r,downloadFile:s.s,showDeleteDialog:s.t},e)}),l=n.i(i.connect)(c,r)(a.a);t.a=l},457:function(e,t,n){"use strict";var a=n(436),i=n(3),o=(n.n(i),n(4)),s=n(27);const c=e=>({uploads:e.files.get("uploading"),downloads:e.files.get("downloading")}),r=e=>({actions:n.i(o.bindActionCreators)({getDownloads:s.a,clearDownloads:s.l,hideFileTransfers:s.m},e)}),l=n.i(i.connect)(c,r)(a.a);t.a=l},458:function(e,t,n){"use strict";var a=n(439),i=n(3),o=(n.n(i),n(4)),s=n(27);const c=e=>({file:e.renamedialog.get("file")}),r=e=>({actions:n.i(o.bindActionCreators)({hideRenameDialog:s.D,renameFile:s.E},e)}),l=n.i(i.connect)(c,r)(a.a);t.a=l},459:function(e,t,n){"use strict";var a=n(440),i=n(3),o=(n.n(i),n(4)),s=n(27);const c=e=>({path:e.files.get("path")}),r=e=>({actions:n.i(o.bindActionCreators)({toggleSearchField:s.w,setSearchText:s.u},e)}),l=n.i(i.connect)(c,r)(a.a);t.a=l},460:function(e,t,n){"use strict";var a=n(441),i=n(3),o=(n.n(i),n(4)),s=n(27);const c=e=>({searchText:e.files.get("searchText"),path:e.files.get("path")}),r=e=>({actions:n.i(o.bindActionCreators)({setSearchText:s.u},e)}),l=n.i(i.connect)(c,r)(a.a);t.a=l},461:function(e,t,n){"use strict";var a=n(442),i=n(3),o=(n.n(i),n(4)),s=n(27);const c=()=>({}),r=e=>({actions:n.i(o.bindActionCreators)({showAllowanceDialog:s.x},e)}),l=n.i(i.connect)(c,r)(a.a);t.a=l},462:function(e,t,n){"use strict";var a=n(444),i=n(3),o=(n.n(i),n(4)),s=n(27);const c=e=>({unread:e.files.get("unreadUploads").size+e.files.get("unreadDownloads").size}),r=e=>({actions:n.i(o.bindActionCreators)({toggleFileTransfers:s.v},e)}),l=n.i(i.connect)(c,r)(a.a);t.a=l},463:function(e,t,n){"use strict";var a=n(446),i=n(3),o=(n.n(i),n(4)),s=n(27);const c=e=>({contracts:e.files.get("contractCount")}),r=e=>({actions:n.i(o.bindActionCreators)({showUploadDialog:s.k},e)}),l=n.i(i.connect)(c,r)(a.a);t.a=l},464:function(e,t,n){"use strict";var a=n(447),i=n(3),o=(n.n(i),n(4)),s=n(27);const c=e=>({source:e.files.get("uploadSource"),path:e.files.get("path")}),r=e=>({actions:n.i(o.bindActionCreators)({hideUploadDialog:s.A,uploadFile:s.B,uploadFolder:s.C},e)}),l=n.i(i.connect)(c,r)(a.a);t.a=l},465:function(e,t,n){"use strict";var a=n(449),i=n(3);n.n(i);const o=e=>({allowance:e.files.get("allowance"),spending:e.files.get("spending")}),s=n.i(i.connect)(o)(a.a);t.a=s},466:function(e,t,n){"use strict";function a(e=s,t){switch(t.type){case o.W:return e.set("confirming",!0).set("confirmationAllowance",t.allowance);case o.X:case o.r:return e.set("confirming",!1);case o.l:return e.set("feeEstimate",t.estimate);case o.k:return e.set("storageEstimate",t.estimate);default:return e}}t.a=a;var i=n(7),o=(n.n(i),n(86));const s=n.i(i.Map)({storageEstimate:"0 B",feeEstimate:0,confirming:!1,confirmationAllowance:"0"})},467:function(e,t,n){"use strict";function a(e=s,t){switch(t.type){case o.K:return e.set("files",t.files);default:return e}}t.a=a;var i=n(7),o=(n.n(i),n(86));const s=n.i(i.Map)({files:n.i(i.List)()})},468:function(e,t,n){"use strict";function a(e=c,t){switch(t.type){case o.m:return e.set("settingAllowance",!1);case o.h:return e.set("allowance",t.allowance);case o.i:return e.set("spending",t.spending);case o.z:return e.set("unreadDownloads",e.get("unreadDownloads").add(t.file.siapath));case o.A:return e.set("unreadUploads",e.get("unreadUploads").add(t.siapath));case o.f:{const a=n.i(s.g)(t.files,e.get("path")),i=a.map(e=>e.siapath),o=e.get("selected").filter(e=>i.includes(e.siapath));return e.set("files",t.files).set("workingDirectoryFiles",a).set("selected",o)}case o.n:return e.set("allowance",t.funds).set("settingAllowance",!0);case o.V:return e.set("showDownloadsSince",Date.now());case o.t:{const a=n.i(s.j)(e.get("workingDirectoryFiles"),t.text,e.get("path"));return e.set("searchResults",a).set("searchText",t.text)}case o.s:return e.set("path",t.path).set("selected",n.i(i.OrderedSet)()).set("workingDirectoryFiles",n.i(s.g)(e.get("files"),t.path)).set("searchResults",n.i(s.j)(e.get("workingDirectoryFiles"),e.get("searchText",e.get("path"))));case o.U:return e.set("selected",e.get("selected").filter(e=>e.siapath!==t.file.siapath));case o.R:return e.set("selected",e.get("selected").add(t.file));case o.T:return e.set("selected",n.i(i.OrderedSet)());case o.S:return e.set("selected",n.i(s.k)(t.file,e.get("workingDirectoryFiles"),e.get("selected")));case o.q:return e.set("showAllowanceDialog",!0);case o.r:return e.set("showAllowanceDialog",!1);case o.u:return e.set("showSearchField",!e.get("showSearchField"));case o.v:return e.set("dragging",!0);case o.w:return e.set("dragging",!1);case o.K:return e.set("showDeleteDialog",!0);case o.L:return e.set("showDeleteDialog",!1);case o.x:return e.set("showUploadDialog",!0).set("uploadSource",t.source);case o.y:return e.set("showUploadDialog",!1);case o.F:return e.set("uploading",t.uploads);case o.G:return e.set("downloading",t.downloads.filter(t=>Date.parse(t.starttime)>e.get("showDownloadsSince")));case o.H:return e.set("showFileTransfers",!0);case o.I:return e.set("showFileTransfers",!1);case o.J:return e.set("showFileTransfers",!e.get("showFileTransfers")).set("unreadDownloads",n.i(i.Set)()).set("unreadUploads",n.i(i.Set)());case o.N:return e.set("contractCount",t.count);case o.P:return e.set("showRenameDialog",!0);case o.Q:return e.set("showRenameDialog",!1);default:return e}}t.a=a;var i=n(7),o=(n.n(i),n(86)),s=n(263);const c=n.i(i.Map)({files:n.i(i.List)(),workingDirectoryFiles:null,searchResults:n.i(i.List)(),uploading:n.i(i.List)(),downloading:n.i(i.List)(),selected:n.i(i.OrderedSet)(),path:"",searchText:"",uploadSource:"",showAllowanceDialog:!1,showUploadDialog:!1,showSearchField:!1,showFileTransfers:!1,showDeleteDialog:!1,showRenameDialog:!1,settingAllowance:!1,dragging:!1,contractCount:0,allowance:"0",spending:"0",showDownloadsSince:Date.now(),unreadUploads:n.i(i.Set)(),unreadDownloads:n.i(i.Set)()})},469:function(e,t,n){"use strict";var a=n(4),i=n(471),o=n(468),s=n(467),c=n(470),r=n(466);const l=n.i(a.combineReducers)({wallet:i.a,files:o.a,deletedialog:s.a,renamedialog:c.a,allowancedialog:r.a});t.a=l},470:function(e,t,n){"use strict";function a(e=s,t){switch(t.type){case o.P:return e.set("file",t.file);default:return e}}t.a=a;var i=n(7),o=(n.n(i),n(86));const s=n.i(i.Map)({file:{}})},471:function(e,t,n){"use strict";function a(e=s,t){switch(t.type){case o.b:return e.set("unlocked",t.unlocked);case o.p:return e.set("balance",t.balance);case o.d:return e.set("synced",t.synced);default:return e}}t.a=a;var i=n(7),o=(n.n(i),n(86));const s=n.i(i.Map)({unlocked:!1,synced:!1,balance:""})},472:function(e,t,n){"use strict";function*a(){try{const e=yield n.i(j.a)("/wallet");yield n.i(q.put)(G.L(e.unlocked))}catch(e){console.error("error fetching wallet lock state: "+e.toString())}}function*i(){try{const e=yield n.i(j.a)("/consensus");yield n.i(q.put)(G.M(e.synced))}catch(e){console.error("error fetching wallet sync state: "+e.toString())}}function*o(){try{const e=yield n.i(j.a)("/renter/files"),t=n.i(B.List)(e.files);yield n.i(q.put)(G.N(t))}catch(e){console.error("error fetching files: "+e.toString())}}function*s(e){try{const t=yield n.i(j.a)("/renter/prices");if("0"===t.storageterabytemonth)return void(yield n.i(q.put)(G.O("No Hosts")));const a=new W.a(SiaAPI.siacoinsToHastings(e.funds)).dividedBy(t.storageterabytemonth).times(1e12);yield n.i(q.put)(G.O("~"+n.i(j.b)(a.toPrecision(1))))}catch(e){console.error(e)}}function*c(){try{const e=yield n.i(j.a)("/renter"),t=SiaAPI.hastingsToSiacoins(e.settings.allowance.funds);let a=t.minus(SiaAPI.hastingsToSiacoins(e.financialmetrics.unspent));a.isNegative()&&(a=new W.a(0)),yield n.i(q.put)(G.P(t.round(0).toString())),yield n.i(q.put)(G.Q(a.round(0).toString()))}catch(e){console.error("error getting allowance: "+e.toString())}}function*r(e){try{const t=SiaAPI.siacoinsToHastings(e.funds);yield n.i(q.put)(G.K()),yield n.i(j.a)({url:"/renter",method:"POST",timeout:72e5,qs:{funds:t.toString(),period:j.c}}),yield n.i(q.put)(G.R())}catch(e){n.i(j.d)(e),yield n.i(q.put)(G.R()),yield n.i(q.put)(G.K())}}function*l(){try{const e=yield n.i(j.a)("/wallet"),t=SiaAPI.hastingsToSiacoins(e.confirmedsiacoinbalance).round(2).toString();yield n.i(q.put)(G.S(t))}catch(e){console.error("error fetching wallet balance: "+e.toString())}}function*u(e){try{const t=I.a.basename(e.source),a=I.a.posix.join(e.siapath,t);yield n.i(j.a)({url:"/renter/upload/"+encodeURI(a),timeout:2e4,method:"POST",qs:{source:e.source}})}catch(e){n.i(j.d)(e)}}function*d(e){try{const t=n.i(j.e)(e.source),a=n.i(j.f)(e.source,t,e.siapath);for(const e in a.toArray())yield n.i(q.put)(a.get(e))}catch(e){n.i(j.d)(e)}}function*f(e){try{if("file"===e.file.type&&(yield n.i(j.a)({url:"/renter/download/"+encodeURI(e.file.siapath),timeout:6e8,method:"GET",qs:{destination:e.downloadpath}})),"directory"===e.file.type){P.a.mkdirSync(e.downloadpath);const t=yield n.i(j.a)("/renter/files"),a=n.i(j.g)(n.i(B.List)(t.files),e.file.siapath);for(const t in a.toArray()){const i=a.get(t);yield n.i(q.put)(G.s(i,I.a.join(e.downloadpath,i.name))),yield new Promise(e=>setTimeout(e,300))}}}catch(e){n.i(j.d)(e)}}function*p(){try{const e=yield n.i(j.a)("/renter/downloads"),t=n.i(j.h)(e.downloads);yield n.i(q.put)(G.T(t))}catch(e){console.error("error fetching downloads: "+e.toString())}}function*m(){try{const e=yield n.i(j.a)("/renter/files"),t=n.i(j.i)(e.files);yield n.i(q.put)(G.U(t))}catch(e){console.error("error fetching uploads: "+e.toString())}}function*g(e){try{if("file"===e.file.type&&(yield n.i(j.a)({url:"/renter/delete/"+encodeURI(e.file.siapath),timeout:36e5,method:"POST"})),"directory"===e.file.type){const t=yield n.i(j.a)("/renter/files"),a=n.i(j.g)(n.i(B.List)(t.files),e.file.siapath);for(const e in a.toArray()){const t=a.get(e);yield n.i(q.put)(G.z(t))}}yield n.i(q.put)(G.d())}catch(e){n.i(j.d)(e)}}function*h(){try{const e=yield n.i(j.a)("/renter/contracts");yield n.i(q.put)(G.V(e.contracts.length))}catch(e){console.error("error getting contract count: "+e.toString())}}function*E(e){try{if("file"===e.file.type&&(yield n.i(j.a)({url:"/renter/rename/"+encodeURI(e.file.siapath),method:"POST",qs:{newsiapath:e.newsiapath}}),yield n.i(q.put)(G.d())),"directory"===e.file.type){const t=e.file.siapath,a=yield n.i(j.a)("/renter/files"),i=n.i(j.g)(n.i(B.List)(a.files),t);for(const a in i.toArray()){const o=i.get(a),s=I.a.posix.join(e.newsiapath,o.siapath.split(t)[1]);yield n.i(q.put)(G.E(o,s))}}yield n.i(q.put)(G.D())}catch(e){n.i(j.d)(e)}}function*y(){yield*n.i(O.takeEvery)(z.n,r)}function*w(){yield*n.i(O.takeEvery)(z.g,c)}function*C(){yield*n.i(O.takeEvery)(z.D,p)}function*v(){yield*n.i(O.takeEvery)(z.E,m)}function*D(){yield*n.i(O.takeEvery)(z.a,a)}function*b(){yield*n.i(O.takeEvery)(z.e,o)}function*S(){yield*n.i(O.takeEvery)(z.B,g)}function*A(){yield*n.i(O.takeEvery)(z.o,l)}function*k(){yield*n.i(O.takeEvery)(z.C,d)}function*T(){yield*n.i(O.takeEvery)(z.M,h)}function*N(){yield*n.i(O.takeEvery)(z.A,u)}function*R(){yield*n.i(O.takeEvery)(z.z,f)}function*L(){yield*n.i(O.takeEvery)(z.O,E)}function*x(){yield*n.i(O.takeEvery)(z.j,s)}function*F(){yield*n.i(O.takeEvery)(z.c,i)}Object.defineProperty(t,"__esModule",{value:!0}),t.watchSetAllowance=y,t.watchGetAllowance=w,t.watchGetDownloads=C,t.watchGetUploads=v,t.watchGetWalletLockstate=D,t.watchGetFiles=b,t.watchDeleteFile=S,t.watchGetWalletBalance=A,t.watchUploadFolder=k,t.watchGetContractCount=T,t.watchUploadFile=N,t.watchDownloadFile=R,t.watchRenameFile=L,t.watchGetStorageEstimate=x,t.watchGetWalletSyncstate=F;var O=n(121),q=(n.n(O),n(133)),_=(n.n(q),n(14)),I=n.n(_),U=n(98),P=n.n(U),G=n(27),z=n(86),B=n(7),M=(n.n(B),n(107)),W=n.n(M),j=n(263)},473:function(e,t,n){"use strict";function*a(){yield Object.values(i).map(o.fork)}t.a=a;var i=n(472),o=n(133);n.n(o)},48:function(e,t){e.exports=require("querystring")},49:function(e,t,n){"use strict";var a=n(2),i=n.n(a),o=n(1),s=n.n(o),c=n(18);n.n(c);const r={display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",backgroundColor:"#C6C6C6",width:"100%",height:"100%"},l={height:"300px",width:"80%",overflow:"auto",marginBottom:"15px"},u={color:"blue",cursor:"pointer"},d=()=>{c.shell.openExternal("https://github.com/NebulousLabs/Sia/issues")},f=({errorMsg:errorMsg,startSiad:startSiad})=>s.a.createElement("div",{style:r},s.a.createElement("h2",null,"Siad has exited unexpectedly. Please submit a bug report including the error log ",s.a.createElement("a",{style:u,onClick:d},"here.")),s.a.createElement("h2",null," Error Log: "),s.a.createElement("textarea",{style:l,readOnly:!0},errorMsg),s.a.createElement("button",{onClick:startSiad},"Start Siad"));f.propTypes={errorMsg:i.a.string.isRequired,startSiad:i.a.func.isRequired},t.a=f},55:function(e,t){e.exports=require("fs")},61:function(e,t){e.exports=require("https")},71:function(e,t){e.exports=require("net")},72:function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=72},81:function(e,t){e.exports=require("child_process")},82:function(e,t){e.exports=require("punycode")},83:function(e,t){e.exports=require("tls")},84:function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=84},86:function(e,t,n){"use strict";t.a="GET_WALLET_LOCKSTATE";t.b="SET_WALLET_LOCKSTATE";t.j="GET_STORAGE_ESTIMATE";t.k="SET_STORAGE_ESTIMATE";t.l="SET_FEE_ESTIMATE";t.g="GET_ALLOWANCE";t.h="RECEIVE_ALLOWANCE";t.i="RECEIVE_SPENDING";t.n="SET_ALLOWANCE";t.m="SET_ALLOWANCE_COMPLETED";t.s="SET_PATH";t.e="GET_FILES";t.f="RECEIVE_FILES";t.o="GET_WALLET_BALANCE";t.p="RECEIVE_WALLET_BALANCE";t.q="SHOW_ALLOWANCE_DIALOG";t.r="CLOSE_ALLOWANCE_DIALOG";t.t="SET_SEARCH_TEXT";t.u="TOGGLE_SEARCH_FIELD";t.A="UPLOAD_FILE";t.C="UPLOAD_FOLDER";t.B="DELETE_FILE";t.K="SHOW_DELETE_DIALOG";t.L="HIDE_DELETE_DIALOG";t.z="DOWNLOAD_FILE";t.v="SET_DRAGGING";t.w="SET_NOT_DRAGGING";t.x="SHOW_UPLOAD_DIALOG";t.y="HIDE_UPLOAD_DIALOG";t.D="GET_DOWNLOADS";t.E="GET_UPLOADS";t.G="RECEIVE_DOWNLOADS";t.F="RECEIVE_UPLOADS";t.H="SHOW_FILE_TRANSFERS";t.I="HIDE_FILE_TRANSFERS";t.J="TOGGLE_FILE_TRANSFERS";t.N="SET_CONTRACT_COUNT";t.M="GET_CONTRACT_COUNT";t.O="RENAME_FILE";t.P="SHOW_RENAME_DIALOG";t.Q="HIDE_RENAME_DIALOG";t.R="SELECT_FILE";t.S="SELECT_UP_TO";t.T="DESELECT_ALL";t.U="DESELECT_FILE";t.V="CLEAR_DOWNLOADS";t.W="SHOW_ALLOWANCE_CONFIRMATION";t.X="HIDE_ALLOWANCE_CONFIRMATION";t.c="GET_WALLET_SYNCSTATE";t.d="SET_WALLET_SYNCSTATE"},987:function(e,t,n){n(37),n(26),e.exports=n(376)}},[987]);